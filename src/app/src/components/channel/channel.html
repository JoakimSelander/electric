<ion-list-header>
    {{name}}
    <button item-right clear primary ion-button>Start</button>
</ion-list-header>

<ion-grid class="channel" padding>
    <ion-row class="status">
        <ion-col class="number" text-center>{{channel.curr_out_volts|number:'1.3-3'}}</ion-col>
        <ion-col class="number" text-center>{{channel.curr_out_amps|number:'1.2-2'}}</ion-col>
        <ion-col class="number" text-center>{{channel.curr_out_capacity|number:'1.0-0'}}</ion-col>
    </ion-row>

    <ion-row class="labels">
        <ion-col no-padding class="label" text-center>V</ion-col>
        <ion-col no-padding class="label" text-center>A</ion-col>
        <ion-col no-padding class="label" text-center>mAh</ion-col>
    </ion-row>

    <div padding-top>
        <ion-row *ngFor="let r of chunkedCells(); let y=index">
            <ion-col
                    class="number"
                    [ngClass]="{'unused' : isCellUnused(cell)}"
                    *ngFor="let cell of r; let x=index"
                    text-center>
                <div>
                    {{1 + ((y * cellChunking()) + x)}}. {{cell.v|number:'1.3-3'}}v
                </div>
                <span class="balancecontainer">
                    <div
                            *ngFor="let b of balanceRange(cell.balance)"
                            class="balance b{{b}}"
                            [ngClass]="{'off':!balanceLightIsLit(b, cell.balance)}"
                    >
                    </div>
                </span>
            </ion-col>
        </ion-row>
    </div>

    <ion-row padding-top>
        <ion-col no-padding>
            Total IR: {{channel.cell_total_ir|number:'1.3-3'}} mÎ©
            Max balance seen: {{maxBalanceSeen}}
        </ion-col>
    </ion-row>

</ion-grid>
